# Voyage AI

`VoyageEmbeddings` 类使用 Voyage AI 的 REST API 为给定文本生成嵌入（embeddings）。

`inputType` 参数允许你指定输入文本的类型，以获得更好的嵌入效果。你可以将其设置为 `query`、`document`，或者不设置（等同于 `None`）。

- `query`：用于搜索或检索查询。Voyage AI 会添加一个提示词（prompt），以优化查询场景的嵌入效果。
- `document`：用于需要被检索的文档或内容。Voyage AI 会添加一个提示词，以优化文档场景的嵌入效果。
- `None`（默认）：输入文本将直接编码，不添加额外提示词。

此外，该类支持新的参数，以便进一步自定义嵌入过程：

- **truncation**：是否将输入文本截断为模型允许的最大长度。
- **outputDimension**：输出嵌入向量的期望维度。
- **outputDtype**：输出嵌入向量的数据类型。可以是 `"float"` 或 `"int8"`。
- **encodingFormat**：输出嵌入向量的格式。可以是 `"float"`、`"base64"` 或 `"ubinary"`。

```typescript
import { VoyageEmbeddings } from "@langchain/community/embeddings/voyage";

const embeddings = new VoyageEmbeddings({
  apiKey: "YOUR-API-KEY", // 在 Node.js 中默认使用 process.env.VOYAGEAI_API_KEY
  inputType: "document", // 可选：指定输入类型为 'query'、'document'，或省略表示 None / Undefined / Null
  truncation: true, // 可选：启用输入文本截断
  outputDimension: 768, // 可选：设置期望的输出嵌入维度
  outputDtype: "float", // 可选：设置输出数据类型（"float" 或 "int8"）
  encodingFormat: "float", // 可选：设置输出编码格式（"float"、"base64" 或 "ubinary"）
});
```

## 相关内容

- 嵌入模型 [概念指南](/docs/concepts/embedding_models)
- 嵌入模型 [操作指南](/docs/how_to/#embedding-models)