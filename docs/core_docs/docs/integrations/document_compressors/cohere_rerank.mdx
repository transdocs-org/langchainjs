# Cohere 重排序

重排序文档可以显著提升任何 RAG 应用程序和文档检索系统的性能。

从高层次来看，一个重排序 API 是一种语言模型，它能够分析文档并根据它们与给定查询的相关性重新排序。

Cohere 提供了用于文档重排序的 API。在这个示例中，我们将向您展示如何使用它。

## 准备工作

import IntegrationInstallTooltip from "@mdx_components/integration_install_tooltip.mdx";

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/cohere @langchain/core
```

import CodeBlock from "@theme/CodeBlock";

import Example from "@examples/document_compressors/cohere_rerank.ts";

<CodeBlock language="typescript">{Example}</CodeBlock>

在这里，我们可以看到 `.rerank()` 方法仅返回文档的索引（与输入文档的索引相对应）以及它们的相关性分数。

如果我们希望方法本身返回文档，我们可以使用 `.compressDocuments()` 方法。

import ExampleCompressor from "@examples/document_compressors/cohere_rerank_compressor.ts";

<CodeBlock language="typescript">{ExampleCompressor}</CodeBlock>

从结果中我们可以看到，它返回了排名前三的文档，并为每个文档分配了 `relevanceScore`（相关性分数）。

正如预期的那样，相关性分数最高的文档是引用华盛顿特区的文档，分数为 `98.7%`！

### 与 `CohereClient` 一起使用

如果您是在 Azure、AWS Bedrock 或独立实例上使用 Cohere，则可以使用 `CohereClient` 创建一个 `CohereRerank` 实例，并指定您的端点。

import ExampleClient from "@examples/document_compressors/cohere_rerank_custom_client.ts";

<CodeBlock language="typescript">{ExampleClient}</CodeBlock>