---
sidebar_class_name: node-only
---

import CodeBlock from "@theme/CodeBlock";

# AnalyticDB

[AnalyticDB for PostgreSQL](https://www.alibabacloud.com/help/zh/analyticdb-for-postgresql/latest/product-introduction-overview) 是一种大规模并行处理（MPP）数据仓库服务，专为在线分析大量数据而设计。

`AnalyticDB for PostgreSQL` 是基于开源 `Greenplum Database` 项目开发的，并由 `阿里云` 进行了深度扩展。AnalyticDB for PostgreSQL 兼容 ANSI SQL 2003 语法以及 PostgreSQL 和 Oracle 数据库生态系统。AnalyticDB for PostgreSQL 还支持行存储和列存储。AnalyticDB for PostgreSQL 可以在离线环境下高性能地处理 PB 级数据，并支持高并发的在线查询。

本笔记本展示了如何使用与 `AnalyticDB` 向量数据库相关的功能。

要运行本示例，您需要已经启动并运行了一个 [AnalyticDB](https://www.alibabacloud.com/help/zh/analyticdb-for-postgresql/latest/product-introduction-overview) 实例：

- 使用 [AnalyticDB 云向量数据库](https://www.alibabacloud.com/product/hybriddb-postgresql)。

:::tip 兼容性
该功能仅适用于 Node.js。
:::

## 安装配置

LangChain.js 使用 [node-postgres](https://node-postgres.com/) 作为 AnalyticDB 向量数据库的连接池。

```bash npm2yarn
npm install -S pg
```

我们还需要 [pg-copy-streams](https://github.com/brianc/node-pg-copy-streams) 来快速批量添加向量。

```bash npm2yarn
npm install -S pg-copy-streams
```

import IntegrationInstallTooltip from "@mdx_components/integration_install_tooltip.mdx";

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/openai @langchain/community @langchain/core
```

## 使用方法

::::danger 安全提示
不应将用户名等用户生成的数据用作集合名称的输入。  
**这可能导致 SQL 注入！**
::::

import UsageExample from "@examples/indexes/vector_stores/analyticdb.ts";

<CodeBlock language="typescript">{UsageExample}</CodeBlock>

## 相关内容

- 向量数据库 [概念指南](/docs/concepts/#vectorstores)
- 向量数据库 [操作指南](/docs/how_to/#vectorstores)