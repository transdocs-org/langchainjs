# Neon Postgres

Neon 是一个完全托管的无服务器 PostgreSQL 数据库。它将存储和计算分离，从而提供诸如即时分支和自动扩展等功能。

通过 `pgvector` 扩展，Neon 提供了一个向量存储，可以与 LangChain.js 一起使用来存储和查询嵌入向量。

## 准备工作

### 选择一个 Neon 项目

如果您还没有 Neon 账户，请前往 [Neon](https://neon.tech) 注册一个。登录 Neon 控制台后，进入 [项目](https://console.neon.tech/app/projects) 页面，选择现有项目或创建一个新项目。

您的 Neon 项目附带了一个开箱即用的 PostgreSQL 数据库，名为 `neondb`，可用于存储嵌入向量。进入连接详细信息部分，找到数据库连接字符串。它应该类似于以下内容：

```text
postgres://alex:AbC123dEf@ep-cool-darkness-123456.us-east-2.aws.neon.tech/dbname?sslmode=require
```

请将连接字符串保存下来以供后续使用。

### 应用代码

要使用 Neon Postgres，您需要安装 `@neondatabase/serverless` 包，该包提供了一个用于连接数据库的 JavaScript/TypeScript 驱动程序。

```bash npm2yarn
npm install @neondatabase/serverless
```

import IntegrationInstallTooltip from "@mdx_components/integration_install_tooltip.mdx";

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/community @langchain/core
```

要初始化 `NeonPostgres` 向量存储，您需要提供 Neon 数据库的连接字符串。您可以直接使用上面获取的连接字符串，或者将其存储为环境变量并在代码中引用。

```typescript
const vectorStore = await NeonPostgres.initialize(embeddings, {
  connectionString: NEON_POSTGRES_CONNECTION_STRING,
});
```

## 使用方法

import CodeBlock from "@theme/CodeBlock";
import Example from "@examples/indexes/vector_stores/neon/example.ts";

<CodeBlock language="typescript">{Example}</CodeBlock>

## 相关内容

- 向量存储 [概念指南](/docs/concepts/#vectorstores)
- 向量存储 [操作指南](/docs/how_to/#vectorstores)