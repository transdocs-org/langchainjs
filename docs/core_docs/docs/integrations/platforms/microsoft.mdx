---
keywords: [azure]
---

import CodeBlock from "@theme/CodeBlock";

# 微软

所有与 `Microsoft Azure` 及其他 `Microsoft` 产品相关的功能。

## 聊天模型

### Azure OpenAI

参见[使用示例](/docs/integrations/chat/azure)

import AzureChatOpenAI from "@examples/models/chat/integration_azure_openai.ts";

<UnifiedModelParamsTooltip></UnifiedModelParamsTooltip>

<CodeBlock language="typescript">{AzureChatOpenAI}</CodeBlock>

## LLM

### Azure OpenAI

> [Microsoft Azure](https://zh.wikipedia.org/wiki/Microsoft_Azure)，通常称为 `Azure`，是由 `Microsoft` 运营的云计算平台，它通过全球数据中心提供应用程序和服务的访问、管理和开发。它提供多种功能，包括软件即服务 (SaaS)、平台即服务 (PaaS) 和基础设施即服务 (IaaS)。`Microsoft Azure` 支持多种编程语言、工具和框架，包括 Microsoft 自有的和第三方的软件及系统。

> [Azure OpenAI](https://azure.microsoft.com/products/ai-services/openai-service/) 是一项云服务，可帮助您通过 OpenAI、Meta 等提供的多样化预构建和精选模型快速开发生成式 AI 体验。

LangChain.js 支持使用 [OpenAI SDK](https://github.com/openai/openai-node) 中的新 Azure 集成来与 [Azure OpenAI](https://azure.microsoft.com/products/ai-services/openai-service/) 进行集成。

您可以在[此页面](https://learn.microsoft.com/azure/ai-services/openai/overview)了解更多关于 Azure OpenAI 及其与 OpenAI API 的区别。如果您没有 Azure 帐户，可以[创建一个免费帐户](https://azure.microsoft.com/free/)开始使用。

您需要部署一个 Azure OpenAI 实例。您可以按照[此指南](https://learn.microsoft.com/azure/ai-services/openai/how-to/create-resource?pivots=web-portal)在 Azure 门户中部署一个实例。

当您的实例运行后，请确保您拥有实例的名称和密钥。您可以在 Azure 门户中实例的 "密钥和端点" 部分找到密钥。

如果您使用的是 Node.js，可以定义以下环境变量来使用该服务：

```bash
AZURE_OPENAI_API_INSTANCE_NAME=<YOUR_INSTANCE_NAME>
AZURE_OPENAI_API_DEPLOYMENT_NAME=<YOUR_DEPLOYMENT_NAME>
AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME=<YOUR_EMBEDDINGS_DEPLOYMENT_NAME>
AZURE_OPENAI_API_KEY=<YOUR_KEY>
AZURE_OPENAI_API_VERSION="2024-02-01"
```

:::info

您可以在 [Azure OpenAI 文档](https://learn.microsoft.com/azure/ai-services/openai/reference)中找到支持的 API 版本列表。

:::

import IntegrationInstallTooltip from "@mdx_components/integration_install_tooltip.mdx";

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/openai @langchain/core
```

参见[使用示例](/docs/integrations/llms/azure)。

import AzureOpenAI from "@examples/models/llm/azure_openai.ts";

import UnifiedModelParamsTooltip from "@mdx_components/unified_model_params_tooltip.mdx";

<UnifiedModelParamsTooltip></UnifiedModelParamsTooltip>

<CodeBlock language="typescript">{AzureOpenAI}</CodeBlock>

## 文本嵌入模型

### Azure OpenAI

参见[使用示例](/docs/integrations/text_embedding/azure_openai)

import AzureOpenAIEmbeddings from "@examples/models/embeddings/azure_openai.ts";

<UnifiedModelParamsTooltip></UnifiedModelParamsTooltip>

<CodeBlock language="typescript">{AzureOpenAIEmbeddings}</CodeBlock>

## 向量存储

### Azure AI Search

> [Azure AI Search](https://azure.microsoft.com/products/ai-services/ai-search)（以前称为 Azure Search 和 Azure Cognitive Search）是一个分布式、RESTful 搜索引擎，针对 Azure 上生产规模工作负载的速度和相关性进行了优化。它还支持使用 [k-最近邻](https://zh.wikipedia.org/wiki/最近邻搜索) (kNN) 算法和 [语义搜索](https://learn.microsoft.com/azure/search/semantic-search-overview) 进行向量搜索。

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install -S @langchain/community @langchain/core @azure/search-documents
```

参见[使用示例](/docs/integrations/vectorstores/azure_aisearch)。

```typescript
import { AzureAISearchVectorStore } from "@langchain/community/vectorstores/azure_aisearch";
```

### Azure Cosmos DB for NoSQL

> [Azure Cosmos DB for NoSQL](https://learn.microsoft.com/azure/cosmos-db/nosql/) 提供了对具有灵活模式的文档进行查询的支持，并原生支持 JSON。它现在还提供了向量索引和搜索功能。此功能旨在处理高维向量，能够在任意规模下实现高效且准确的向量搜索。您现在可以将向量直接存储在文档中，与您的数据一起。数据库中的每个文档不仅可以包含传统的无模式数据，还可以包含高维向量作为文档的其他属性。

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/azure-cosmosdb @langchain/core
```

参见[使用示例](/docs/integrations/vectorstores/azure_cosmosdb_nosql)。

```typescript
import { AzureCosmosDBNoSQLVectorStore } from "@langchain/azure-cosmosdb";
```

### Azure Cosmos DB for MongoDB vCore

> [Azure Cosmos DB for MongoDB vCore](https://learn.microsoft.com/azure/cosmos-db/mongodb/vcore/) 使得创建具有完整原生 MongoDB 支持的数据库变得简单。您可以通过将应用程序指向 MongoDB vCore 帐户的连接字符串来应用您的 MongoDB 经验，并继续使用您最喜欢的 MongoDB 驱动程序、SDK 和工具。在 Azure Cosmos DB for MongoDB vCore 中使用向量搜索，可以无缝地将基于 AI 的应用程序与存储在 Azure Cosmos DB 中的数据集成。

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/azure-cosmosdb @langchain/core
```

参见[使用示例](/docs/integrations/vectorstores/azure_cosmosdb_mongodb)。

```typescript
import { AzureCosmosDBMongoDBVectorStore } from "@langchain/azure-cosmosdb";
```

## 语义缓存

### Azure Cosmos DB NoSQL 语义缓存

> 语义缓存功能通过 Azure Cosmos DB for NoSQL 集成提供支持，使用户能够基于用户输入与先前缓存结果之间的语义相似性来检索缓存的响应。它利用 [AzureCosmosDBNoSQLVectorStore](/docs/integrations/vectorstores/azure_cosmosdb_nosql)，该存储将缓存提示的向量嵌入。这些嵌入支持基于相似性的搜索，使系统能够检索相关的缓存结果。

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/azure-cosmosdb @langchain/core
```

参见[使用示例](/docs/integrations/llm_caching/azure_cosmosdb_nosql)。

```typescript
import { AzureCosmosDBNoSQLSemanticCache } from "@langchain/azure-cosmosdb";
```

## 聊天消息历史

### Azure Cosmos DB NoSQL 聊天消息历史

> AzureCosmosDBNoSQLChatMessageHistory 使用 Cosmos DB 存储聊天消息历史。对于跨聊天会话的长期持久化，您可以替换默认的内存中 `chatHistory`，该 `chatHistory` 支持如 `BufferMemory` 等聊天内存类。

```bash npm2yarn
npm install @langchain/azure-cosmosdb @langchain/core
```

参见[使用示例](/docs/integrations/memory/azure_cosmosdb_nosql.mdx)。

```typescript
import { AzureCosmosDBNoSQLChatMessageHistory } from "@langchain/azure-cosmosdb";
```

### Azure Cosmos DB MongoDB vCore 聊天消息历史

> AzureCosmosDBMongoChatMessageHistory 使用 Cosmos DB Mongo vCore 存储聊天消息历史。对于跨聊天会话的长期持久化，您可以替换默认的内存中 `chatHistory`，该 `chatHistory` 支持如 `BufferMemory` 等聊天内存类。

```bash npm2yarn
npm install @langchain/azure-cosmosdb @langchain/core
```

参见[使用示例](/docs/integrations/memory/azure_cosmos_mongo_vcore.mdx)。

```typescript
import { AzureCosmosDBMongoChatMessageHistory } from "@langchain/azure-cosmosdb";
```

## 文档加载器

### Azure Blob Storage

> [Azure Blob Storage](https://learn.microsoft.com/azure/storage/blobs/storage-blobs-introduction) 是微软的云对象存储解决方案。Blob Storage 经过优化，用于存储大量非结构化数据。非结构化数据是指不符合特定数据模型或定义的数据，例如文本或二进制数据。

> [Azure Files](https://learn.microsoft.com/azure/storage/files/storage-files-introduction) 提供了完全托管的
> 云文件共享，可以通过行业标准服务器消息块 (`SMB`) 协议、网络文件系统 (`NFS`) 协议和 `Azure Files REST API` 访问。`Azure Files` 基于 `Azure Blob Storage`。

`Azure Blob Storage` 主要用于：

- 向浏览器直接提供图像或文档。
- 存储用于分布式访问的文件。
- 流式传输视频和音频。
- 写入日志文件。
- 存储备份和恢复、灾难恢复和归档数据。
- 存储用于本地或 Azure 托管服务分析的数据。

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/community @langchain/core @azure/storage-blob
```

参见 [Azure Blob Storage 使用示例](/docs/integrations/document_loaders/web_loaders/azure_blob_storage_container)。

```typescript
import { AzureBlobStorageContainerLoader } from "@langchain/community/document_loaders/web/azure_blob_storage_container";
```

参见 [Azure Files 使用示例](/docs/integrations/document_loaders/web_loaders/azure_blob_storage_file)。

```typescript
import { AzureBlobStorageFileLoader } from "@langchain/community/document_loaders/web/azure_blob_storage_file";
```

## 工具

### Azure Container Apps 动态会话

> [Azure Container Apps 动态会话](https://learn.microsoft.com/azure/container-apps/sessions) 提供了快速访问安全沙盒环境的功能，非常适合运行需要与其他工作负载强隔离的代码或应用程序。

<IntegrationInstallTooltip></IntegrationInstallTooltip>

```bash npm2yarn
npm install @langchain/azure-dynamic-sessions @langchain/core
```

参见 [使用示例](/docs/integrations/tools/azure_dynamic_sessions)。

```typescript
import { SessionsPythonREPLTool } from "@langchain/azure-dynamic-sessions";
```